## 魔术值

固定为cafe babe，代表这是一个class文件

## 版本号

代表此class文件是由哪一个版本的jdk编译而来，版本号小的class文件可以在版本号更大的jdk环境中运行，反过来将因为class文件不兼容运行时报错。

大版本号：

小版本号：

## 常量池计数器

所有的计数器都是两个字节，也就是最多有65536项

常量池计数器的值为常量池中常量的记录数-1，因为常量池索引从1开始，0表示某些表中的字段因为classs文件固定结构而必需要指向常量池中的一项记录，但实际不指向任何常量池的索引（表示 '空'，'无'的意思）

## 常量池

记录java文件中除java关键字外的所有数值，字符串类型的符号，包括包名，类名，字段名，方法名，返回值，形参列表，数值与字符串的常量值等等。还记录class文件中一些内部表的名称

常量池中所有的结构都以_info结尾，表示一张表

**utf8_info**：常量池中最为常见的就是无符号的utf-8字符串（英文1个字节，中文三个字节），所有的常量最终也都是由该种格式的表存储，它有三个字段组成，表标识符（一个字节，表示接下来是一个utf8_info类型的表，因此需要按照该表的格式进行读取），字段长度，实际内容

**class_info**：由两个字段组成，表标识符，类名索引（两个字节组成，存储常量池中的另一个utf8_info索引，该utf8_info存储全限定类名）

Integer_info：由两个字段组成，表标识符（一个字节），实际内容（四个字节）。注意，byte,short,boolean,char类型的常量都是由该类型的表存储。

String_info：由两个字段组成，表标识符，实际存储的内容索引

MethodRef_info:由三个字段组成，表标识符，类名索引表索引（class_info），方法名与返回值与形参表（nameAndType_info）索引

nameAndType_info:由三个字段组成，表标识符，方法名（utf8_info）索引，返回值类型名与形参名(nameAndType_info)索引

FieldRef_info：:由三个字段组成，表标识符，类名(class_info)索引，字段名与字段类型表（nameAndType_info）索引

## 访问标识

记录该类的修饰符信息,包括访问修饰符与是否static等

## 类，父类，接口索引信息

记录该类的全限定类名，父类的全限定类名，继承的接口的全限定类名等在常量池中的索引

## 字段表

包括字段表计数器，与实际存储的字段，字段的结构为：字段名索引，字段描述符（该字段的类型）索引，访问修饰符。每个字段还有属性表计数器，记录他拥有的属性表的数量，一般常量拥有一个属性名为constantValue的属性，该属性内部记录了常量的实际内容在常量池中的索引，将字段与字面量关联起来（`注意`：只有基本数据类型与String类型的常量字段才有该属性，其他引用类型的常用没有，如：private static final Date date=new Date();date在字段表中没有constantValue这个属性，实际的对象必须在类初始化(<clinit>)时才能创建）

## 方法表

包括方法表计数器，与实际的方法，每个方法的结构为：方法名索引，方法描述符(形参列表与返回值)，访问修饰符。每个字段还有自己的属性表计数器，记录他拥有的属性表的数量，每个方法都至少有一个名为Code的属性表（可能还有一个名为Exceptions的异常属性记录抛出的异常（只有方法后声明抛出才有该属性）)，该属性表的结构为：属性表名索引，该属性表长度，操作数栈深度，局部变量表大小，字节码指令长度，字节码指令，异常表长度，异常表（只有手动捕获Exception或利用synchronized同步才会记录，手动抛出异常不会记录。即只有try-catch/try-finaly/synchronized才会记录，抛出异常就是利用athrow指令将异常对象的地址压入调用者的操作数栈中），属性表计数器，即每个Code属性中又含有其他属性，一般为两个：LineNumberTable和LocalVariableTable，分别存储class指令偏移量（在指令集合中的第几个字节）与java文件行之间的对应关系，与局部变量表

## 属性表

记录一些class文件携带的信息（如@Inherited注解等）与该class所在的原java文件信息，一般由一个名为SourceFile的属性记录，它内部含有指向源文件名的常量池索引